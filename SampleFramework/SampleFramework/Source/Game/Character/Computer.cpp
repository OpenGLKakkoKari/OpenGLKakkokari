/*****************************************************************************/
/*!
@file   Computer.cpp
@author Yuki Kogawara
@copy   Copyright(C) 2016 Yuki Kogawara

******************************************************************************/

/*  インクルード
******************************************************************************/


#include "Computer.h"
#include "../../Framework/Manager.h"
#include "../../Framework/StateManager.h"
#include "../../Framework/Collision/OBB.h"
#include "../../Framework/Math/Math.h"
#include "../../Framework/Mesh/SkinMeshModel.h"
#include "../GameScene.h"


using Game::Computer;
using Framework::Model;
using Framework::Vector2;
using Framework::Vector3;
using Framework::Color;
using Framework::Manager;
using namespace Framework;
using namespace Framework::Math;


/*  実装
******************************************************************************/

/******************************************************************************
@brief  コンストラクタ
******************************************************************************/

Computer::Computer()
{
    pSkinMeshModel_ = SkinMeshModel::Load("data/MODEL/jk_master3.model");
    pSkinMeshModel_->SetMotion(Motion::WALKING);

    pos_ = Vector3(0.0f, 0.0f, 0.0f);

    pSkinMeshModel_->SetFrame(0);
    pSkinMeshModel_->SetPosition(pos_);
    pSkinMeshModel_->SetRotation(rot_);
    pSkinMeshModel_->SetScale(scale_);
    pSkinMeshModel_->Update();

    // トゥイーカに登録
    Manager::GetDebug()->Add("Game/Computer");
    Manager::GetDebug()->SetDirectory("Game/Computer");
    Manager::GetDebug()->Add("pos", &pSkinMeshModel_->pos_);
}

/******************************************************************************
@brief  デストラクタ
******************************************************************************/

Computer::~Computer()
{
}

/******************************************************************************
@brief  更新処理
******************************************************************************/

void Computer::Update(void)
{
    pos_.z -= 0.1f;

    pSkinMeshModel_->SetPosition(pos_);
    pSkinMeshModel_->SetRotation(rot_);
    pSkinMeshModel_->SetScale(scale_);

    //pSkinMeshModel->NextFrame();
    //pSkinMeshModel->Update();
}

/******************************** 実装ここまで *******************************/
