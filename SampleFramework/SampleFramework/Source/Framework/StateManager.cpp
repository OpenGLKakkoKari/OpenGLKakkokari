/*****************************************************************************/
/*!
@file   StateManager.cpp
@author Yuki Kogawara
@copy   Copyright(C) 2016 Yuki Kogawara

******************************************************************************/

/*  インクルード
******************************************************************************/


#include "StateManager.h"
#include "State.h"
#include <stdio.h>
#include <string.h>


using namespace Framework;


/*  実装
******************************************************************************/

/******************************************************************************
@brief  コンストラクタ
******************************************************************************/

StateManager::StateManager() : nowState(NULL)
{
}

/******************************************************************************
@brief  デストラクタ
******************************************************************************/

StateManager::~StateManager()
{
    if (nowState)
    {
        nowState->Uninit();
        delete nowState;
        nowState = NULL;
    }
}

/******************************************************************************
@brief  更新処理
******************************************************************************/

void StateManager::Update()
{
    nowState->Update();
}

/******************************************************************************
@brief  ステート変更処理
******************************************************************************/

void StateManager::SetState(State* newState)
{
    if (!newState)
        return;
    if (nowState)
    {
        nowState->Uninit();
        delete nowState;
    }
    newState->Init();
    nowState = newState;
}

/******************************** 実装ここまで *******************************/
